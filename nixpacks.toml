[nix]
  version = "2.3.14"

[packages]
  # Use Go 1.17.1 from Nixpkgs
  inherit = "(pkgs) go"
  buildInputs = [
    "pkgs.go"
  ]
  # Set the environment variable PORT to 8080
  [packages.env]
    PORT = "8080"
  # Define the build command
  buildCommand = "go build -o  ./cmd/web/main.go"
  # Define the command to start the app
  startCommand = "go run ./cmd/web"
